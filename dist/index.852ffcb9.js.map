{"mappings":"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","sources":["src/js/physics.js"],"sourcesContent":["// --- MATTER JS\r\n// Runs the physics engine\r\n// generates cursor hitbox, background boxes, and deals with interactions.\r\nfunction isTouchDevice() {\r\n    return (('ontouchstart' in window) ||\r\n        (navigator.maxTouchPoints > 0) ||\r\n        (navigator.msMaxTouchPoints > 0));\r\n}\r\n\r\nvar Engine = Matter.Engine,\r\n    Render = Matter.Render,\r\n    Runner = Matter.Runner,\r\n    Bodies = Matter.Bodies,\r\n    Composite = Matter.Composite,\r\n    Constraint = Matter.Constraint,\r\n    MouseConstraint = Matter.MouseConstraint,\r\n    Mouse = Matter.Mouse,\r\n    World = Matter.World,\r\n    Events = Matter.Events,\r\n    Body = Matter.Body;\r\n\r\nvar engine = Engine.create();\r\nlet engineWrap = document.getElementById('physics-engine-wrap')\r\nvar render = Render.create({\r\n    element: engineWrap,\r\n    engine: engine,\r\n    options: {\r\n        wireframes: false\r\n    }\r\n});\r\n\r\n//Size dimensions to parent el (100vw/h)\r\nrender.options.wireframeBackground = 'transparent';\r\nrender.options.background = 'transparent';\r\nrender.bounds.max.x = engineWrap.getBoundingClientRect().width;\r\nrender.bounds.max.y = engineWrap.getBoundingClientRect().height * 2;\r\nrender.options.width = engineWrap.getBoundingClientRect().width;\r\nrender.options.height = engineWrap.getBoundingClientRect().height * 2;\r\nrender.canvas.width = engineWrap.getBoundingClientRect().width;\r\nrender.canvas.height = engineWrap.getBoundingClientRect().height * 2;\r\n\r\nwindow.addEventListener('resize', () => {\r\n    render.bounds.max.x = engineWrap.getBoundingClientRect().width;\r\n    render.bounds.max.y = engineWrap.getBoundingClientRect().height * 2;\r\n    render.options.width = engineWrap.getBoundingClientRect().width;\r\n    render.options.height = engineWrap.getBoundingClientRect().height * 2;\r\n    render.canvas.width = engineWrap.getBoundingClientRect().width;\r\n    render.canvas.height = engineWrap.getBoundingClientRect().height * 2;\r\n});\r\n\r\n//Creates invisible cursor hitbox\r\nvar cursor = Bodies.circle(450, 50, 37, 37);\r\ncursor.render.visible = false;\r\n//Add cursor to world\r\nlet world = engine.world\r\nComposite.add(world, [cursor]);\r\n\r\nengine.gravity.y = 0.05;\r\n\r\nRender.run(render);\r\n\r\n// run the engine\r\nvar runner = Runner.create();\r\nRunner.run(runner, engine);\r\n\r\n// create mouse that engine understands\r\nlet canvas = document.querySelector(\"canvas\");\r\nlet canvasMouse = Mouse.create(canvas);\r\n\r\n// create mouse constraint\r\nlet mConstraintOptions = {\r\n    mouse: canvasMouse,\r\n    constraint: {\r\n        render: {\r\n            visible: false\r\n        }\r\n    }\r\n}\r\nlet mConstraint = MouseConstraint.create(engine, mConstraintOptions);\r\n\r\nWorld.add(world, mConstraint)\r\n\r\n//Change default event listeners for Matter.Mouse\r\ncanvasMouse.element.removeEventListener('mousedown', canvasMouse.mousedown);\r\ncanvasMouse.element.removeEventListener('mouseup', canvasMouse.mouseup);\r\n//Makes mouse always mousedown\r\ndocument.addEventListener('mousemove', canvasMouse.mousedown);\r\ndocument.addEventListener('mousemove', canvasMouse.mousemove);\r\nif (!isTouchDevice()) {\r\n    document.addEventListener('mousemove', alignCursor, { once: true });\r\n}\r\n\r\nfunction alignCursor() {\r\n    Matter.Body.setPosition(cursor, canvasMouse.position)\r\n}\r\n\r\n//Spawn boxes\r\n\r\nfunction newBox() {\r\n    let size = (Math.random() * 100) + 20;\r\n    let spawnPosY = (-document.getElementById('main').scrollTop); // Ensures boxes spawn at top of document after user has scrolled\r\n    let box = Bodies.rectangle(Math.random() * render.options.width, spawnPosY - (size * 3), size, size);\r\n    box.render.fillStyle = 'transparent';\r\n    box.render.strokeStyle = '#BCFFE3'\r\n    if (Math.random() > 0.9) {\r\n        box.render.strokeStyle = '#FF8A00'\r\n    }\r\n    box.render.lineWidth = '3';\r\n    Matter.Body.setVelocity(box, { x: (Math.random() - 0.5) * 10, y: (Math.random() - 0.5) * 2 });\r\n    Matter.Body.setAngularVelocity(box, Math.random() / 5);\r\n    return box;\r\n}\r\n\r\nlet spawnRate = 1000000 / document.getElementById('main').clientWidth; //control spawn rate depending on device width\r\nlet initSpawn = document.getElementById('main').clientWidth / 40;\r\nconsole.log(spawnRate);\r\nlet startBoxes = () => setInterval(() => {\r\n    if (!document.hidden) { World.add(world, newBox()) }\r\n\r\n    const bodyLimit = 1000;//maximum amount of boxes\r\n    let bodiesArray = Composite.allBodies(world);\r\n    if (bodiesArray.length > bodyLimit) {\r\n        let excessBodies = bodiesArray.length - bodyLimit;\r\n        for (let i = 1; i < excessBodies; i++) { // i === 1 to preserve cursor body\r\n            Composite.remove(world, bodiesArray[i])\r\n        }\r\n    }\r\n}, spawnRate);\r\nfunction lotsOfBoxes() {\r\n    if (!document.hidden) {\r\n        for (let i = 0; i < initSpawn; i++) {\r\n            let size = (Math.random() * 100) + 20;\r\n            let spawnPosY = (-document.getElementById('main').scrollTop); // Ensures boxes spawn at top of document after user has scrolled\r\n            let box = Bodies.rectangle(Math.random() * render.options.width, spawnPosY - (size * 3), size, size);\r\n            box.render.fillStyle = 'transparent';\r\n            box.render.strokeStyle = '#BCFFE3'\r\n            if (Math.random() > 0.9) {\r\n                box.render.strokeStyle = '#FF8A00'\r\n\r\n            }\r\n            box.render.lineWidth = '3';\r\n            Matter.Body.setVelocity(box, { x: (Math.random() - 0.5) * 10, y: (Math.random() - 0.5) * 10 });\r\n            Matter.Body.setAngularVelocity(box, Math.random() / 5);\r\n            World.add(world, box)\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n//Starts boxes spawning once is active\r\nif (!isTouchDevice()) {\r\n    document.addEventListener('mousemove', startBoxes, { once: true });\r\n    document.addEventListener('mousemove', lotsOfBoxes, { once: true });\r\n}\r\nelse {\r\n    startBoxes();\r\n    lotsOfBoxes();\r\n}\r\n\r\n\r\n\r\n// --- PARRALAX EFFECT\r\n// Creating the parralax effect for boxes in the engine rather than moving canvas helps performance alot\r\n\r\nconst parallaxSpeed = 0.8;\r\nlet main = document.getElementById('main');\r\n\r\nlet prevTop = 0;\r\nmain.addEventListener('scroll', (e) => {\r\n    let amountMoved = prevTop - main.scrollTop;\r\n    if (prevTop > main.scrollTop) {\r\n        Composite.translate(world, { x: 0, y: parallaxSpeed * amountMoved })\r\n    }\r\n    else {\r\n        Composite.translate(world, { x: 0, y: parallaxSpeed * amountMoved })\r\n\r\n    }\r\n    prevTop = main.scrollTop;\r\n})\r\n\r\n\r\nif (isTouchDevice()) {\r\n    let bodiesArray = Composite.allBodies(world);\r\n    Composite.remove(world, bodiesArray[0])\r\n    Composite.remove(world, mConstraint)\r\n\r\n}"],"names":[],"version":3,"file":"index.852ffcb9.js.map","sourceRoot":"/__parcel_source_root/"}